<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Inicio de Sesión</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f8f9fa;
      min-height: 100vh;
      display: flex;
      align-items: center;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    .form-signin {
      max-width: 400px;
      padding: 2rem;
      background: white;
      border-radius: 1rem;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }
    .form-control {
      padding: 12px 15px;
      border-radius: 8px;
      border: 1px solid #ddd;
      margin-bottom: 1.2rem;
    }
    .form-control:focus {
      border-color: #2575fc;
      box-shadow: 0 0 0 0.25rem rgba(37, 117, 252, 0.25);
    }
    .button_additional_settings {
      background: linear-gradient(to right, #6a11cb, #2575fc);
      color: white;
      border: none;
      padding: 12px;
      font-weight: 600;
      border-radius: 8px;
      transition: all 0.3s ease;
      font-size: 1.1rem;
    }
    .button_additional_settings:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(37, 117, 252, 0.4);
    }
    .login-link {
      color: #2575fc;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.2s;
    }
    .login-link:hover {
      color: #6a11cb;
      text-decoration: underline;
    }
    .logo-placeholder {
      width: 72px;
      height: 57px;
      background: linear-gradient(135deg, #6a11cb, #2575fc);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      margin: 0 auto 1rem;
    }
  </style>
</head>
<body>
  <div class="d-flex align-items-center py-4 bg-body-tertiary vh-100">
    <main class="form-signin m-auto">
      <!-- SOLUCIÓN: Reemplazo del logo Bootstrap con placeholder -->
      <div class="logo-placeholder">Logo</div>
      
      <h1 class="h3 mb-3 fw-normal text-center">Iniciar Sesión</h1>
      
      <!-- Formulario de inicio de sesión -->
      <form [formGroup]="loginForm" class="d-flex flex-column gap-3">
        <div class="form-group">
          <input
            type="text"
            formControlName="email"
            class="form-control rounded-pill"
            placeholder="Email"
            required
          />
          <!-- Validación de email -->
          <div *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched" 
               class="text-danger small mt-1 ms-2">
            Por favor ingresa un email válido
          </div>
        </div>
        
        <div class="form-group">
          <input
            type="password"
            formControlName="password"
            class="form-control rounded-pill"
            placeholder="Contraseña"
            required
          />
          <!-- Validación de contraseña -->
          <div *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched" 
               class="text-danger small mt-1 ms-2">
            La contraseña debe tener al menos 6 caracteres
          </div>
        </div>
        
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="remember-me" id="checkDefault">
          <label class="form-check-label" for="checkDefault">
            Recordar mi cuenta
          </label>
        </div>
        
        <button
          type="button"
          class="button_additional_settings w-100 rounded-pill fw-bold shadow-lg"
          (click)="submit()"
          [disabled]="loading"
        >
          <span *ngIf="!loading">Iniciar sesión</span>
          <span *ngIf="loading">
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            Procesando...
          </span>
        </button>
        
        <!-- SOLUCIÓN: Manejo de errores de autenticación -->
        <div *ngIf="errorMessage" class="alert alert-danger mt-3">
          {{ errorMessage }}
          <div class="mt-2 small">
            ¿Necesitas ayuda? 
            <a href="#" class="alert-link">Contactar soporte</a>
          </div>
        </div>
        
        <div class="text-center mt-3">
          <a href="#" class="text-muted">¿Olvidaste tu contraseña?</a>
        </div>
        
        <hr class="my-4">
        
        <div class="text-center">
          <p class="mb-1">¿Aún no tienes una cuenta?</p>
          <a href="#" class="login-link fw-bold">Regístrate ahora</a>
        </div>
      </form>
      
      <p class="mt-5 mb-3 text-center text-body-secondary">© 2025 Mi primera web mi gente :3</p>
    </main>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>